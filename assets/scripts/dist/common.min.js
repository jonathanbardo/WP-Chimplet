String.prototype.escapeSelector=function(a){return a=new RegExp("(["+(a||"[]:")+"])"),this.replace(a,"\\$1")},function(a){"use strict";var b={toggle:function(b){var c,d,e,f,g,h;c=a(b.currentTarget),g="data-condition-"+c.data("condition-key"),h=c.val(),d=a("["+g+"]"),e=d.filter("["+g+'="'+h+'"]').removeClass("hidden"),f=d.not("["+g+'="'+h+'"]').addClass("hidden")}};a(".chimplet-wrap").on("change.chimplet.condition","[data-condition-key]",b.toggle)}(jQuery),function(a){"use strict";var b={toggle:function(b){var c,d,e,f,g;c=a(b.currentTarget),g=c.parents("[data-checkbox-scoped]"),e=a(':checkbox[name="'+c.attr("name").escapeSelector()+'"]',g.length?g:null).not(":disabled"),"all"===c.val()?(f=c,e=e.not(f),e.prop("checked",f.prop("checked"))):(f=e.filter('[value="all"]'),e=e.not(f),d=e.filter(":checked"),f.length&&(e=e.not(f),f.prop("checked",d.length>0).prop("indeterminate",d.length>0&&d.length<e.length)))}};a(".chimplet-wrap").on("change.chimplet.toggle-checkboxes",':checkbox[name$="[]"]',b.toggle)}(jQuery),function(a){"use strict";var b={init:function(b){this.$checkbox=a(b.target),this.$checkbox.prop("checked")&&(this.$checkbox.hide(),this.$spinner=a('<div class="spinner"></div>'),this.$spinner.css("float","left"),this.$spinner.prependTo(this.$checkbox.parent()),this.$spinner.show(),this.sync(0))},sync:function(b){var c=this;a.ajax({type:"GET",url:ajaxurl,data:{action:chimpletCommon.action,subscribersNonce:chimpletCommon.subscriberSyncNonce,offset:b},dataType:"json",success:function(a){a.success&&(void 0===a.next||a.next?(c.$spinner.hide(),c.$checkbox.show()):c.sync(a.next))},error:function(){c.$spinner.hide(),c.$checkbox.prop("checked",!0)}})}};a(".chimplet-wrap").on("change.chimplet.toggle-subscribers-automation",':checkbox[name$="[subscribers][automate]"]',a.proxy(b.init,b))}(jQuery);